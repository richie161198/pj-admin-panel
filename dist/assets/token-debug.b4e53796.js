import{a7 as N,r as u,c as t,j as e,B as o,C as r,Z as f,ai as k,aj as T,ak as x,al as S,_ as v}from"./index.cccf3715.js";const w=()=>{const{user:i,isLoggedIn:c,isLoading:d,logout:h}=N(),[a,p]=u.exports.useState({}),l=()=>{const n=f(),s=n?k(n):null,b=T(),g=localStorage.getItem(x),m=sessionStorage.getItem(x),y=localStorage.getItem(S);p({hasToken:!!n,tokenLength:n?n.length:0,tokenSource:g?"localStorage":m?"sessionStorage":"none",localStorageHasToken:!!g,sessionStorageHasToken:!!m,rememberMeFlag:y,isExpired:n?v(n):null,tokenPayload:s,userInfo:b,contextUser:i,contextIsLoggedIn:c,contextIsLoading:d,expirationTime:s!=null&&s.exp?new Date(s.exp*1e3).toLocaleString():"N/A",currentTime:new Date().toLocaleString(),timeUntilExpiration:s!=null&&s.exp?Math.floor((s.exp*1e3-Date.now())/1e3/60)+" minutes":"N/A"})};return u.exports.useEffect(()=>{l();const n=setInterval(l,5e3);return()=>clearInterval(n)},[i,c,d]),t("div",{className:"space-y-6 p-6",children:[t("div",{className:"flex justify-between items-center",children:[t("div",{children:[e("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Token Debug Information"}),e("p",{className:"text-gray-500 dark:text-gray-400",children:"Real-time token and authentication state monitoring"})]}),t("div",{className:"flex gap-3",children:[e(o,{onClick:l,className:"btn btn-primary",children:"Refresh"}),e(o,{onClick:()=>{localStorage.clear(),sessionStorage.clear(),l(),alert("All storage cleared!")},className:"btn btn-danger",children:"Clear Storage"}),e(o,{onClick:h,className:"btn btn-outline",children:"Logout"})]})]}),t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e(r,{title:"Token Status",children:t("div",{className:"space-y-3",children:[t("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[e("span",{className:"font-medium",children:"Has Token:"}),e("span",{className:a.hasToken?"text-green-600":"text-red-600",children:a.hasToken?"Yes \u2713":"No \u2717"})]}),t("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[e("span",{className:"font-medium",children:"Token Source:"}),e("span",{className:"text-indigo-600 font-semibold",children:a.tokenSource})]}),t("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[e("span",{className:"font-medium",children:"localStorage:"}),e("span",{className:a.localStorageHasToken?"text-green-600":"text-gray-400",children:a.localStorageHasToken?"Has Token \u2713":"Empty"})]}),t("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[e("span",{className:"font-medium",children:"sessionStorage:"}),e("span",{className:a.sessionStorageHasToken?"text-green-600":"text-gray-400",children:a.sessionStorageHasToken?"Has Token \u2713":"Empty"})]}),t("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[e("span",{className:"font-medium",children:"Remember Me:"}),e("span",{className:a.rememberMeFlag==="true"?"text-green-600":"text-gray-400",children:a.rememberMeFlag==="true"?"Yes \u2713":"No"})]}),t("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[e("span",{className:"font-medium",children:"Is Expired:"}),e("span",{className:a.isExpired?"text-red-600":"text-green-600",children:a.isExpired===null?"N/A":a.isExpired?"Yes \u2717":"No \u2713"})]}),t("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[e("span",{className:"font-medium",children:"Token Length:"}),t("span",{className:"text-gray-700 dark:text-gray-300",children:[a.tokenLength," chars"]})]})]})}),e(r,{title:"Auth Context State",children:t("div",{className:"space-y-3",children:[t("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[e("span",{className:"font-medium",children:"Is Logged In:"}),e("span",{className:a.contextIsLoggedIn?"text-green-600":"text-red-600",children:a.contextIsLoggedIn?"Yes \u2713":"No \u2717"})]}),t("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[e("span",{className:"font-medium",children:"Is Loading:"}),e("span",{className:a.contextIsLoading?"text-yellow-600":"text-gray-600",children:a.contextIsLoading?"Yes...":"No"})]}),t("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[e("span",{className:"font-medium block mb-2",children:"Context User:"}),e("pre",{className:"text-xs bg-gray-100 dark:bg-gray-900 p-2 rounded overflow-auto max-h-32",children:JSON.stringify(a.contextUser,null,2)})]})]})}),e(r,{title:"Token Timing",children:t("div",{className:"space-y-3",children:[t("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[e("span",{className:"font-medium block mb-1",children:"Current Time:"}),e("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:a.currentTime})]}),t("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[e("span",{className:"font-medium block mb-1",children:"Expiration Time:"}),e("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:a.expirationTime})]}),t("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded",children:[e("span",{className:"font-medium block mb-1",children:"Time Until Expiration:"}),e("span",{className:"text-sm font-semibold text-indigo-600",children:a.timeUntilExpiration})]})]})}),e(r,{title:"Token Payload",children:e("div",{className:"space-y-3",children:e("pre",{className:"text-xs bg-gray-100 dark:bg-gray-900 p-4 rounded overflow-auto max-h-96",children:JSON.stringify(a.tokenPayload,null,2)||"No token payload"})})}),e(r,{title:"Extracted User Info",children:e("div",{className:"space-y-3",children:e("pre",{className:"text-xs bg-gray-100 dark:bg-gray-900 p-4 rounded overflow-auto max-h-96",children:JSON.stringify(a.userInfo,null,2)||"No user info"})})})]}),e(r,{title:"Console Logs",children:t("div",{className:"p-4 bg-gray-900 text-green-400 rounded font-mono text-xs",children:[e("p",{children:"Open browser console (F12) to see real-time authentication logs"}),e("p",{className:"mt-2 text-gray-400",children:"All token operations are logged with detailed information"})]})})]})};export{w as default};
