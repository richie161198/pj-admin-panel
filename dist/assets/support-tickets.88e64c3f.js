import{Z as ue,b as xe,r as y,Q as _,j as t,L as te,c as r,B,I as g,C as N}from"./index.ce738da1.js";import{B as F}from"./Badge.eb576f68.js";import{u as pe,a as fe,b as ye,c as ke,d as be}from"./ticketApi.d2cb2970.js";import{l as Ne}from"./index.6a354765.js";class we{constructor(){this.socket=null,this.isConnected=!1,this.listeners=new Map}connect(){if(this.socket&&this.isConnected)return;this.socket&&(this.socket.removeAllListeners(),this.socket.disconnect(),this.socket=null,this.isConnected=!1);const s=ue();if(!s){console.error("Socket: No token found");return}const b="https://www.preciousgoldsmith.net/api/v0".replace("/api/v0","").replace("/api/v0/","");this.socket=Ne(b,{transports:["websocket"],auth:{token:s},query:{token:s},extraHeaders:{Authorization:`Bearer ${s}`},autoConnect:!0,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3}),this.socket.on("connect",()=>{console.log("Socket: Connected"),this.isConnected=!0,this.listeners.has("connect")&&this.listeners.get("connect").forEach(p=>p())}),this.socket.on("disconnect",()=>{console.log("Socket: Disconnected"),this.isConnected=!1,this.listeners.has("disconnect")&&this.listeners.get("disconnect").forEach(p=>p())}),this.socket.on("error",p=>{console.error("Socket: Error",p),this.listeners.has("error")&&this.listeners.get("error").forEach(w=>w(p))}),this.socket.on("connect_error",p=>{console.error("Socket: Connection error",p),this.listeners.has("error")&&this.listeners.get("error").forEach(w=>w(p))})}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.isConnected=!1,this.listeners.clear())}on(s,d){if(!this.socket){console.error("Socket: Not connected, cannot listen to",s);return}this.socket.on(s,d),this.listeners.has(s)||this.listeners.set(s,[]),this.listeners.get(s).push(d)}off(s,d){if(this.socket&&(d?this.socket.off(s,d):this.socket.off(s)),this.listeners.has(s))if(d){const x=this.listeners.get(s),b=x.indexOf(d);b>-1&&x.splice(b,1)}else this.listeners.delete(s)}emit(s,d){if(!this.socket||!this.isConnected){console.error("Socket: Not connected, cannot emit",s);return}this.socket.emit(s,d)}joinTicket(s){this.emit("join_ticket",s)}leaveTicket(s){}sendTicketMessage(s,d,x=!1){this.emit("send_ticket_message",{ticketId:s,message:d,isInternal:x})}updateTicketStatus(s,d,x=null){this.emit("update_ticket_status",{ticketId:s,status:d,adminNote:x})}sendTypingIndicator(s,d){this.emit("ticket_typing",{ticketId:s,isTyping:d})}}const l=new we,Ae=()=>{var q,J,Y,Z;const O=xe(),[s,d]=y.exports.useState(null),[x,b]=y.exports.useState(""),[p,w]=y.exports.useState(!1),[f,W]=y.exports.useState(!1),[I,v]=y.exports.useState(null),z=y.exports.useRef(null),S=y.exports.useRef(null),[D,L]=y.exports.useState(new Set),[M,se]=y.exports.useState({status:"",category:"",page:1,limit:1e3}),{data:re,isLoading:ae,refetch:C}=pe(M),G=s==null?void 0:s._id,{data:U,isLoading:ie,refetch:A}=fe(G,{skip:!G}),{data:T,isLoading:ve}=ye(),[ne,{isLoading:R}]=ke(),[le,{isLoading:E}]=be(),ce=e=>{if(!e)return{tickets:[],pagination:null};if(Array.isArray(e))return{tickets:e,pagination:null};if(e.data){if(Array.isArray(e.data))return{tickets:e.data,pagination:null};if(e.data.tickets&&Array.isArray(e.data.tickets))return{tickets:e.data.tickets,pagination:e.data.pagination||null}}return e.tickets&&Array.isArray(e.tickets)?{tickets:e.tickets,pagination:e.pagination||null}:e.details&&Array.isArray(e.details)?{tickets:e.details,pagination:null}:{tickets:[],pagination:null}},{tickets:oe,pagination:_e}=ce(re),P=[...oe].sort((e,a)=>{const n=D.has(e._id),o=D.has(a._id);return n&&!o?-1:!n&&o?1:new Date(a.createdAt)-new Date(e.createdAt)}),i=I||(U==null?void 0:U.ticket)||null,j=(T==null?void 0:T.data)||T;y.exports.useEffect(()=>(l.connect(),l.on("connect",()=>{W(!0),s!=null&&s._id&&l.joinTicket(s._id)}),l.on("disconnect",()=>{W(!1)}),l.on("joined_ticket",e=>{console.log("Joined ticket:",e)}),l.on("ticket_data",e=>{e&&e.ticket&&v(e.ticket)}),l.on("new_ticket_message",e=>{e&&e.reply&&(e.ticketId===(s==null?void 0:s._id)?(v(a=>{var m,h;if(!a)return a;const n=(a.replies||[]).filter(u=>{var k;return!((k=u._id)!=null&&k.startsWith("temp_"))}),o={...e.reply,_id:e.reply._id||e.reply.id||Date.now().toString(),timestamp:e.reply.timestamp||new Date().toISOString(),repliedBy:e.sender?{_id:e.sender.id,name:e.sender.name,role:e.sender.role}:e.reply.repliedBy||((h=(m=a.replies)==null?void 0:m[a.replies.length-1])==null?void 0:h.repliedBy)};return n.some(u=>u._id===o._id||u.message===o.message&&Math.abs(new Date(u.timestamp)-new Date(o.timestamp))<5e3)?a:{...a,replies:[...n,o]}}),setTimeout(()=>{var a;(a=S.current)==null||a.scrollIntoView({behavior:"smooth"})},100),A()):L(a=>new Set([...a,e.ticketId])),C())}),l.on("ticket_status_updated",e=>{e&&e.ticketId===(s==null?void 0:s._id)&&e.ticket&&(v(e.ticket),A(),C(),_.success(`Ticket status updated to ${e.ticket.status}`))}),l.on("new_ticket_reply",e=>{e&&e.ticketId&&e.ticket&&(e.ticketId!==(s==null?void 0:s._id)&&(L(a=>new Set([...a,e.ticketId])),_.info(`New reply on ticket: ${e.ticket.subject||"Unknown"}`)),C())}),l.on("error",e=>{const a=(e==null?void 0:e.message)||(e==null?void 0:e.toString())||"Socket error occurred";_.error(a),console.error("Socket error:",e)}),()=>{s&&l.leaveTicket(s._id),l.off("connect"),l.off("disconnect"),l.off("joined_ticket"),l.off("ticket_data"),l.off("new_ticket_message"),l.off("ticket_status_updated"),l.off("new_ticket_reply"),l.off("error"),l.disconnect()}),[s==null?void 0:s._id]),y.exports.useEffect(()=>{(i==null?void 0:i.replies)&&S.current&&setTimeout(()=>{var e;(e=S.current)==null||e.scrollIntoView({behavior:"smooth"})},100)},[(q=i==null?void 0:i.replies)==null?void 0:q.length]);const de=e=>{s&&l.leaveTicket(s._id),d(e),b(""),w(!1),v(null),L(a=>{const n=new Set(a);return n.delete(e._id),n}),e&&f&&l.joinTicket(e._id),setTimeout(()=>{var a;(a=S.current)==null||a.scrollIntoView({behavior:"smooth"})},100)},Q=async(e,a,n="")=>{var o;if(f)l.updateTicketStatus(e,a,n);else try{const c=await ne({ticketId:e,status:a,adminNote:n}).unwrap();_.success(`Ticket status updated to ${a}`),C(),(s==null?void 0:s._id)===e&&A()}catch(c){console.error("Failed to update ticket status:",c),_.error(((o=c==null?void 0:c.data)==null?void 0:o.message)||"Failed to update ticket status")}},me=async e=>{var c;if(e.preventDefault(),!x.trim()||!(s!=null&&s._id))return;const a=x.trim(),n=p,o=`temp_${Date.now()}`;if(I){const m={_id:o,message:a,timestamp:new Date().toISOString(),repliedBy:{_id:"admin",name:"You",role:"admin"},isInternal:n};v(h=>({...h,replies:[...h.replies||[],m]})),setTimeout(()=>{var h;(h=S.current)==null||h.scrollIntoView({behavior:"smooth"})},50)}if(b(""),w(!1),f)l.sendTicketMessage(s._id,a,n);else try{const m=await le({ticketId:s._id,message:a,isInternal:n}).unwrap();I&&m.ticket&&v(h=>({...h,replies:[...(h.replies||[]).filter(u=>{var k;return!((k=u._id)!=null&&k.startsWith("temp_"))}),...m.ticket.replies||[]]})),_.success(n?"Internal note added successfully":"Reply sent successfully"),A(),C()}catch(m){console.error("Failed to add reply:",m),_.error(((c=m==null?void 0:m.data)==null?void 0:c.message)||"Failed to add reply"),I&&v(h=>{var u;return{...h,replies:((u=h.replies)==null?void 0:u.filter(k=>k._id!==o))||[]}}),b(a),w(n)}},he=e=>{b(e),s&&f&&(clearTimeout(z.current),l.sendTypingIndicator(s._id,!0),z.current=setTimeout(()=>{l.sendTypingIndicator(s._id,!1)},2e3))},V=(e,a)=>{se(n=>({...n,[e]:a,page:1}))},H=e=>{switch(e==null?void 0:e.toLowerCase()){case"open":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400 border-green-200 dark:border-green-800";case"in-progress":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800";case"resolved":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400 border-blue-200 dark:border-blue-800";case"closed":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400 border-red-200 dark:border-red-800";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400 border-gray-200 dark:border-gray-800"}},ge=e=>{switch(e){case"open":return"ph:circle";case"in-progress":return"ph:clock";case"resolved":return"ph:check-circle";case"closed":return"ph:x-circle";default:return"ph:circle"}},$=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return ae?t("div",{className:"flex justify-center items-center h-64",children:t(te,{})}):r("div",{className:"space-y-6",children:[r("div",{className:"flex justify-between items-center",children:[r("div",{children:[r("div",{className:"flex items-center space-x-3",children:[t("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Support Tickets"}),r("div",{className:"flex items-center space-x-2",children:[t("div",{className:`w-2 h-2 rounded-full ${f?"bg-green-500":"bg-red-500"}`}),t("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:f?"Connected":"Disconnected"})]})]}),t("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage customer support tickets"})]}),r(B,{onClick:()=>O("/dashboard"),className:"btn btn-outline",children:[t(g,{icon:"ph:arrow-left",className:"mr-2"}),"Back to Dashboard"]})]}),j&&r("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t(N,{className:"p-4",children:r("div",{className:"flex items-center justify-between",children:[r("div",{children:[t("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Tickets"}),t("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:j.overview.total})]}),t(g,{icon:"ph:ticket",className:"text-2xl text-blue-500"})]})}),t(N,{className:"p-4",children:r("div",{className:"flex items-center justify-between",children:[r("div",{children:[t("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Open"}),t("p",{className:"text-2xl font-bold text-green-600",children:j.overview.open})]}),t(g,{icon:"ph:circle",className:"text-2xl text-green-500"})]})}),t(N,{className:"p-4",children:r("div",{className:"flex items-center justify-between",children:[r("div",{children:[t("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"In Progress"}),t("p",{className:"text-2xl font-bold text-yellow-600",children:j.overview.inProgress})]}),t(g,{icon:"ph:clock",className:"text-2xl text-yellow-500"})]})}),t(N,{className:"p-4",children:r("div",{className:"flex items-center justify-between",children:[r("div",{children:[t("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Resolved"}),t("p",{className:"text-2xl font-bold text-blue-600",children:j.overview.resolved})]}),t(g,{icon:"ph:check-circle",className:"text-2xl text-blue-500"})]})})]}),r("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t("div",{className:"lg:col-span-1",children:r(N,{title:"All Tickets",className:"h-full",children:[r("div",{className:"space-y-3 mb-4",children:[r("div",{children:[t("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),r("select",{value:M.status,onChange:e=>V("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white text-sm",children:[t("option",{value:"",children:"All Status"}),t("option",{value:"open",children:"Open"}),t("option",{value:"in-progress",children:"In Progress"}),t("option",{value:"resolved",children:"Resolved"}),t("option",{value:"closed",children:"Closed"})]})]}),r("div",{children:[t("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),r("select",{value:M.category,onChange:e=>V("category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white text-sm",children:[t("option",{value:"",children:"All Categories"}),t("option",{value:"technical",children:"Technical"}),t("option",{value:"billing",children:"Billing"}),t("option",{value:"general",children:"General"}),t("option",{value:"complaint",children:"Complaint"})]})]})]}),t("div",{className:"space-y-2 max-h-[calc(100vh-400px)] overflow-y-auto",children:P.map(e=>{var o;const a=D.has(e._id),n=(s==null?void 0:s._id)===e._id;return r("div",{onClick:()=>de(e),className:`p-3 rounded-lg cursor-pointer transition-colors relative ${n?"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800":"hover:bg-gray-50 dark:hover:bg-gray-800 border border-transparent"} ${a&&!n?"bg-green-50 dark:bg-green-900/10":""}`,children:[a&&t("div",{className:"absolute top-2 right-2 w-2 h-2 bg-green-500 rounded-full animate-pulse"}),t("div",{className:"flex items-start space-x-3",children:r("div",{className:"flex-1 min-w-0",children:[r("div",{className:"flex items-center justify-between",children:[r("div",{className:"flex items-center space-x-2",children:[t("h3",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:((o=e.user)==null?void 0:o.name)||"Unknown User"}),a&&t("span",{className:"text-xs font-semibold text-green-600 dark:text-green-400",children:"New"})]}),t("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${H(e.status)}`,children:e.status})]}),t("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e.subject}),r("div",{className:"flex items-center justify-between mt-2",children:[t("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:$(e.createdAt)}),t("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.category})]})]})})]},e._id)})})]})}),t("div",{className:"lg:col-span-2",children:ie?t(N,{className:"h-full flex items-center justify-center",children:r("div",{className:"text-center",children:[t(te,{}),t("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:"Loading ticket details..."})]})}):s&&i?r(N,{className:"h-full flex flex-col",children:[r("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[t("div",{className:"flex items-center space-x-3",children:r("div",{children:[t("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:((J=i.user)==null?void 0:J.name)||"Unknown User"}),t("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:(Y=i.user)==null?void 0:Y.email})]})}),t("div",{className:"flex items-center space-x-2",children:r("span",{className:`px-3 py-1 text-xs font-medium rounded-full border flex items-center space-x-1 ${H(i.status)}`,children:[t(g,{icon:ge(i.status)}),t("span",{children:i.status})]})})]}),r("div",{className:"flex-1 p-4 space-y-4",children:[r("div",{children:[t("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Subject"}),t("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:i.subject})]}),r("div",{children:[t("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Description"}),t("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:i.description})]}),r("div",{className:"grid grid-cols-2 gap-4",children:[r("div",{children:[t("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Category"}),t(F,{color:"info",size:"sm",children:i.category})]}),r("div",{children:[t("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Created"}),t("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:$(i.createdAt)})]})]}),i.adminNote&&r("div",{children:[t("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Admin Note"}),t("p",{className:"text-sm text-gray-600 dark:text-gray-400 bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-lg",children:i.adminNote})]}),r("div",{children:[r("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3 flex items-center",children:[t(g,{icon:"ph:chat-circle-text",className:"mr-2"}),"Conversation",i.replies&&i.replies.length>0&&r("span",{className:"ml-2 text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded-full",children:[i.replies.length," ",i.replies.length===1?"reply":"replies"]})]}),r("div",{className:"space-y-3 max-h-96 overflow-y-auto p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[r("div",{className:"flex space-x-3 justify-start",children:[t("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center",children:t(g,{icon:"ph:user",className:"text-gray-600 dark:text-gray-300"})}),t("div",{className:"flex-1 max-w-[75%]",children:r("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-lg p-3 shadow-sm",children:[r("div",{className:"flex items-center justify-between mb-2",children:[t("span",{className:"text-xs font-semibold text-gray-900 dark:text-white",children:((Z=i.user)==null?void 0:Z.name)||"Customer"}),t("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:$(i.createdAt)})]}),t("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:i.description})]})})]}),i.replies&&i.replies.length>0?i.replies.map((e,a)=>{var u,k,K,X,ee;const n=((u=i.user)==null?void 0:u._id)||i.user,o=((k=e.repliedBy)==null?void 0:k._id)||e.repliedBy,c=(n==null?void 0:n.toString())!==(o==null?void 0:o.toString()),m=e.isInternal,h=(K=e._id)==null?void 0:K.startsWith("temp_");return r("div",{className:`flex space-x-3 ${c?"justify-end":"justify-start"} ${m?"opacity-75":""} ${h?"opacity-70":""}`,children:[!c&&t("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center",children:t(g,{icon:"ph:user",className:"text-gray-600 dark:text-gray-300"})}),t("div",{className:"flex-1 max-w-[75%]",children:r("div",{className:`rounded-lg p-3 shadow-sm ${m?"bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-800":c?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700"}`,children:[r("div",{className:`flex items-center justify-between mb-2 ${c?"text-white":""}`,children:[r("div",{className:"flex items-center space-x-2",children:[t("span",{className:`text-xs font-semibold ${c?"text-white":"text-gray-900 dark:text-white"}`,children:c?((X=e.repliedBy)==null?void 0:X.name)||"Admin":((ee=i.user)==null?void 0:ee.name)||"Customer"}),m&&r(F,{color:"warning",size:"sm",children:[t(g,{icon:"ph:lock",className:"mr-1"}),"Internal"]}),c&&!m&&t(F,{color:"info",size:"sm",className:"bg-white/20 text-white",children:"Admin"}),h&&t("span",{className:"text-xs text-gray-500 dark:text-gray-400 italic",children:"Sending..."})]}),t("span",{className:`text-xs ${c?"text-white/80":"text-gray-500 dark:text-gray-400"}`,children:$(e.timestamp)})]}),t("p",{className:`text-sm ${c?"text-white":"text-gray-700 dark:text-gray-300"}`,children:e.message})]})}),c&&t("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center",children:t(g,{icon:"ph:user-circle",className:"text-white"})})]},e._id||a)}):r("div",{className:"text-center py-6",children:[t(g,{icon:"ph:chat-circle-dots",className:"text-4xl text-gray-400 mx-auto mb-2"}),t("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No replies yet. Be the first to respond!"})]}),t("div",{ref:S})]})]})]}),r("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 space-y-4",children:[r("div",{className:"space-y-2",children:[t("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 block",children:"Update Status:"}),r("div",{className:"flex items-center space-x-2 flex-wrap gap-2",children:[r(B,{onClick:()=>Q(i._id,"in-progress"),className:"btn btn-sm btn-warning",disabled:i.status==="in-progress"||R,isLoading:R,children:[t(g,{icon:"ph:clock",className:"mr-1"}),"In Progress"]}),r(B,{onClick:()=>Q(i._id,"resolved"),className:"btn btn-sm btn-info",disabled:i.status==="resolved"||R,isLoading:R,children:[t(g,{icon:"ph:check-circle",className:"mr-1"}),"Resolve"]})]})]}),r("form",{onSubmit:me,className:"space-y-3",children:[r("div",{children:[t("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Add Reply"}),t("textarea",{value:x,onChange:e=>he(e.target.value),placeholder:f?"Type your reply here...":"Connecting...",rows:3,disabled:!f,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white disabled:opacity-50 disabled:cursor-not-allowed"})]}),t("div",{className:"flex items-center justify-between",children:r(B,{type:"submit",disabled:!x.trim()||E||!f,className:"btn btn-primary",isLoading:E,children:[t(g,{icon:f?"ph:paper-plane-tilt":"ph:wifi-slash",className:"mr-2"}),E?"Sending...":f?"Send Reply":"Connecting..."]})})]})]})]}):P.length===0?t(N,{className:"h-full flex items-center justify-center",children:r("div",{className:"text-center",children:[t(g,{icon:"ph:ticket",className:"text-6xl text-gray-400 mb-4"}),t("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No tickets found"}),t("p",{className:"text-gray-500 dark:text-gray-400",children:"No support tickets match your current filters"})]})}):t(N,{className:"h-full flex items-center justify-center",children:r("div",{className:"text-center",children:[t(g,{icon:"ph:ticket",className:"text-6xl text-gray-400 mb-4"}),t("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Select a ticket to view details"}),t("p",{className:"text-gray-500 dark:text-gray-400",children:"Choose a ticket from the list to view and manage it"})]})})})]})]})};export{Ae as default};
