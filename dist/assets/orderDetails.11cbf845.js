import{a4 as I,j as e,L as P,c as t,B as m,I as n}from"./index.93603967.js";import{a as B}from"./orderApi.c470ea6a.js";import{C as i}from"./Card.43e3b2ea.js";import{B as j}from"./Badge.2391c60f.js";const l=d=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(d),F=()=>{var h,x,y,N,u,b,f;const{id:d}=I(),{data:c,isLoading:D,error:p}=B({page:1,limit:1e3});if(D)return e("div",{className:"flex justify-center items-center h-64",children:e(P,{})});if(p)return e("div",{className:"text-center py-8",children:t("p",{className:"text-red-500",children:["Error loading order details: ",p.message]})});const s=(((h=c==null?void 0:c.data)==null?void 0:h.orders)||[]).find(a=>a._id===d);if(!s)return t("div",{className:"text-center py-8",children:[e("p",{className:"text-gray-500",children:"Order not found"}),e(m,{onClick:()=>window.history.back(),className:"mt-4",children:"Go Back"})]});const k=a=>{const r={pending:{color:"bg-yellow-100 text-yellow-800",label:"Pending"},processing:{color:"bg-blue-100 text-blue-800",label:"Processing"},shipped:{color:"bg-purple-100 text-purple-800",label:"Shipped"},delivered:{color:"bg-green-100 text-green-800",label:"Delivered"},cancelled:{color:"bg-red-100 text-red-800",label:"Cancelled"},refunded:{color:"bg-gray-100 text-gray-800",label:"Refunded"}}[a]||{color:"bg-gray-100 text-gray-800",label:a};return e(j,{className:`${r.color} border-0`,children:r.label})},g=a=>{const r={pending:{color:"bg-yellow-100 text-yellow-800",label:"Pending"},paid:{color:"bg-green-100 text-green-800",label:"Paid"},failed:{color:"bg-red-100 text-red-800",label:"Failed"},refunded:{color:"bg-gray-100 text-gray-800",label:"Refunded"}}[a]||{color:"bg-gray-100 text-gray-800",label:a};return e(j,{className:`${r.color} border-0`,children:r.label})};return t("div",{className:"space-y-6",children:[t("div",{className:"flex justify-between items-center",children:[t("div",{children:[e("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Order Details"}),t("p",{className:"text-gray-600 dark:text-gray-400",children:["Order ID: ",s.orderCode]})]}),t("div",{className:"flex items-center gap-4",children:[k(s.status),g(s.paymentStatus)]})]}),t("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[t("div",{className:"xl:col-span-2 space-y-6",children:[e(i,{title:"Products ordered",bodyClass:"p-0",children:e("div",{className:"divide-y",children:(x=s.items)==null?void 0:x.map((a,o)=>{var r,v,A,w,C;return t("div",{className:"flex items-center justify-between p-5 hover:bg-gray-50 dark:hover:bg-slate-800/40 transition-colors",children:[t("div",{className:"flex items-center gap-4",children:[e("img",{src:((v=(r=a.productDataid)==null?void 0:r.images)==null?void 0:v[0])||"/placeholder-product.jpg",alt:((A=a.productDataid)==null?void 0:A.name)||"Product",className:"w-14 h-14 rounded-md object-cover ring-1 ring-gray-200"}),t("div",{children:[e("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:((w=a.productDataid)==null?void 0:w.name)||"Product"}),t("div",{className:"text-xs text-gray-500",children:["Brand: ",((C=a.productDataid)==null?void 0:C.brand)||"N/A"]})]})]}),t("div",{className:"text-right",children:[e("div",{className:"font-semibold text-gray-900 dark:text-gray-100",children:l(a.price||0)}),t("div",{className:"text-xs text-gray-500",children:["Qty: ",a.quantity||1]})]})]},o)})})}),t(i,{title:t("div",{className:"flex items-center gap-2",children:[e("span",{children:"Payment"}),g(s.paymentStatus)]}),bodyClass:"p-0",children:[t("div",{className:"p-5 space-y-3",children:[t("div",{className:"flex items-center justify-between text-sm",children:[e("span",{className:"text-gray-600",children:"Subtotal"}),e("span",{className:"font-medium",children:l(s.totalAmount||0)})]}),t("div",{className:"flex items-center justify-between text-sm",children:[e("span",{className:"text-gray-600",children:"Shipping"}),e("span",{className:"font-medium",children:l(s.shippingCost||0)})]}),t("div",{className:"flex items-center justify-between text-sm",children:[e("span",{className:"text-gray-600",children:"Tax"}),e("span",{className:"font-medium",children:l(s.tax||0)})]}),t("div",{className:"border-t pt-3 flex items-center justify-between",children:[e("span",{className:"font-semibold",children:"Total"}),e("span",{className:"font-semibold",children:l(s.totalAmount||0)})]})]}),t("div",{className:"px-5 py-3 bg-gray-50 dark:bg-slate-800/40 rounded-b-xl flex items-center justify-between",children:[e("span",{className:"text-sm text-gray-600",children:"Customer payment"}),e("span",{className:"font-semibold",children:l(s.totalAmount||0)})]})]})]}),t("div",{className:"space-y-6",children:[e(i,{title:"Customer",bodyClass:"p-0",children:t("div",{className:"p-5 space-y-5",children:[e("div",{className:"flex items-center gap-3",children:t("div",{children:[e("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:((y=s.user)==null?void 0:y.name)||"N/A"}),e("div",{className:"text-xs text-gray-500",children:((N=s.user)==null?void 0:N.id)||"N/A"})]})}),t("div",{className:"divide-y",children:[t("div",{className:"py-4 flex items-center gap-3",children:[e(n,{icon:"solar:inbox-line-duotone",className:"text-xl text-gray-500"}),e("span",{className:"text-sm",children:((u=s.user)==null?void 0:u.email)||"N/A"})]}),t("div",{className:"py-4 flex items-center gap-3",children:[e(n,{icon:"solar:phone-linear",className:"text-xl text-gray-500"}),e("span",{className:"text-sm",children:((b=s.user)==null?void 0:b.phone)||"N/A"})]})]}),s.shippingAddress&&t("div",{className:"pt-2",children:[e("div",{className:"text-sm font-semibold mb-2",children:"Shipping Address"}),t("div",{className:"text-sm text-gray-600 space-y-1",children:[e("div",{children:s.shippingAddress.street||""}),t("div",{children:[s.shippingAddress.city||"",", ",s.shippingAddress.state||""]}),e("div",{children:s.shippingAddress.zipCode||""}),e("div",{children:s.shippingAddress.country||""})]})]}),s.billingAddress&&t("div",{className:"pt-4 border-t",children:[e("div",{className:"text-sm font-semibold mb-2",children:"Billing Address"}),t("div",{className:"text-sm text-gray-600 space-y-1",children:[e("div",{children:s.billingAddress.street||""}),t("div",{children:[s.billingAddress.city||"",", ",s.billingAddress.state||""]}),e("div",{children:s.billingAddress.zipCode||""}),e("div",{children:s.billingAddress.country||""})]})]})]})}),e(i,{title:"Order Information",children:t("div",{className:"space-y-3",children:[t("div",{className:"flex justify-between",children:[e("span",{className:"text-sm text-gray-600",children:"Order ID"}),e("span",{className:"text-sm font-medium",children:s.orderId})]}),t("div",{className:"flex justify-between",children:[e("span",{className:"text-sm text-gray-600",children:"Created"}),e("span",{className:"text-sm font-medium",children:s.createdAt?new Date(s.createdAt).toLocaleDateString():"N/A"})]}),t("div",{className:"flex justify-between",children:[e("span",{className:"text-sm text-gray-600",children:"Updated"}),e("span",{className:"text-sm font-medium",children:s.updatedAt?new Date(s.updatedAt).toLocaleDateString():"N/A"})]}),t("div",{className:"flex justify-between",children:[e("span",{className:"text-sm text-gray-600",children:"Items"}),e("span",{className:"text-sm font-medium",children:((f=s.items)==null?void 0:f.length)||0})]})]})}),e(i,{title:"Actions",children:t("div",{className:"space-y-3",children:[t(m,{onClick:()=>navigate(`/invoice/product/${d}`),className:"btn btn-primary w-full",children:[e(n,{icon:"ph:file-text",className:"mr-2"}),"View Invoice"]}),t(m,{onClick:()=>window.print(),className:"btn btn-outline w-full",children:[e(n,{icon:"ph:printer",className:"mr-2"}),"Print Order"]})]})})]})]})]})};export{F as default};
