import{d as Ae,b as Te,r as p,j as e,L as Le,c as a,B as b,I as f,C as k,F as Fe,Q as d}from"./index.a3fd4963.js";import{F as Ie}from"./Fileinput.fb5016bf.js";import{u as Me}from"./userApi.c86c194a.js";import{a as Pe}from"./imageApi.c1c7af18.js";const _e=Ae.injectEndpoints({endpoints:c=>({createNotification:c.mutation({query:i=>({url:"/notifications/admin/notifications",method:"POST",body:i}),invalidatesTags:["Notification"]}),getAllNotifications:c.query({query:(i={})=>{const g=new URLSearchParams;return Object.keys(i).forEach(u=>{i[u]!==void 0&&i[u]!==""&&g.append(u,i[u])}),`/notifications/admin/notifications?${g.toString()}`},providesTags:["Notification"]}),getNotificationById:c.query({query:i=>`/notifications/admin/notifications/${i}`,providesTags:(i,g,u)=>[{type:"Notification",id:u}]}),updateNotification:c.mutation({query:({id:i,...g})=>({url:`/notifications/admin/notifications/${i}`,method:"PUT",body:g}),invalidatesTags:(i,g,{id:u})=>[{type:"Notification",id:u},"Notification"]}),deleteNotification:c.mutation({query:i=>({url:`/notifications/admin/notifications/${i}`,method:"DELETE"}),invalidatesTags:["Notification"]}),sendNotification:c.mutation({query:i=>({url:`/notifications/admin/notifications/${i}/send`,method:"POST"}),invalidatesTags:["Notification"]}),getNotificationStats:c.query({query:()=>"/notifications/admin/notifications/stats",providesTags:["Notification"]}),registerDeviceToken:c.mutation({query:i=>({url:"/notifications/notifications/register-token",method:"POST",body:i})}),updateNotificationPreferences:c.mutation({query:i=>({url:"/notifications/notifications/preferences",method:"PUT",body:i})})})}),{useCreateNotificationMutation:qe,useGetAllNotificationsQuery:De,useGetNotificationByIdQuery:He,useUpdateNotificationMutation:$e,useDeleteNotificationMutation:je,useSendNotificationMutation:Oe,useGetNotificationStatsQuery:Ee,useRegisterDeviceTokenMutation:ze,useUpdateNotificationPreferencesMutation:We}=_e,Ye=()=>{var Q,H,z,W,Y,J,K,V,X,Z,ee,te;Te();const[c,i]=p.exports.useState("list"),[g,u]=p.exports.useState(!1),[ae,U]=p.exports.useState(!1),[re,A]=p.exports.useState(null),[M,T]=p.exports.useState([]),[P,le]=p.exports.useState(""),[se,x]=p.exports.useState(null),[_,N]=p.exports.useState(null),[$,j]=p.exports.useState(!1),[w,L]=p.exports.useState({status:"",type:"",priority:"",search:""}),{data:q,isLoading:ie,refetch:F}=De({page:1,limit:50,...w}),{data:m}=Ee(),{data:o,isLoading:O,error:y}=Me();console.log("Users data:",o),console.log("Is loading users:",O),console.log("Users error:",y),console.log("Users data details:",o==null?void 0:o.details),console.log("Users data length:",(Q=o==null?void 0:o.details)==null?void 0:Q.length);const[ne,{isLoading:E}]=qe(),[oe,{isLoading:R}]=$e(),[de,{isLoading:ce}]=je(),[ue,{isLoading:ge}]=Oe(),[me]=Pe(),[n,S]=p.exports.useState({title:"",message:"",type:"general",priority:"normal",targetAudience:"all",targetUsers:[],targetSegment:"all_users",imageUrl:"",scheduledAt:"",metadata:{}}),v=t=>{const{name:l,value:r}=t.target;S(s=>({...s,[l]:r}))},he=async t=>{var r,s;const l=t.target.files[0];if(!!l){if(!l.type.startsWith("image/")){d.error("Please select a valid image file");return}if(l.size>5*1024*1024){d.error("Image size should be less than 5MB");return}x(l),N(URL.createObjectURL(l)),j(!0);try{const h=new FormData;h.append("image",l);const C=await me(h).unwrap();C.success&&((r=C.data)==null?void 0:r.url)?(S(D=>({...D,imageUrl:C.data.url})),d.success("Image uploaded successfully")):(d.error("Failed to upload image"),x(null),N(null))}catch(h){console.error("Image upload error:",h),d.error(((s=h==null?void 0:h.data)==null?void 0:s.message)||"Failed to upload image"),x(null),N(null)}finally{j(!1)}}},B=()=>{x(null),N(null),S(t=>({...t,imageUrl:""}))},pe=t=>{T(l=>l.includes(t)?l.filter(r=>r!==t):[...l,t])},fe=()=>{o!=null&&o.details&&T(o.details.map(t=>t._id))},ye=()=>{T([])},be=async t=>{var r;if(t.preventDefault(),console.log("Creating notification with data:",n),!n.title||!n.message){d.error("Title and message are required");return}const l={...n,scheduledAt:n.scheduledAt?G(n.scheduledAt):null,targetUsers:n.targetAudience==="specific_users"?M:[]};try{const s=await ne(l).unwrap();console.log("Create notification response:",s),s.status?(d.success("Notification created successfully"),u(!1),I(),T([]),F()):d.error(s.message||"Failed to create notification")}catch(s){console.error("Create notification error:",s);const h=((r=s==null?void 0:s.data)==null?void 0:r.message)||(s==null?void 0:s.message)||"Failed to create notification";d.error(h)}},xe=async t=>{var l;t.preventDefault();try{const r={...n,scheduledAt:n.scheduledAt?G(n.scheduledAt):null};(await oe({id:re._id,...r}).unwrap()).status&&(d.success("Notification updated successfully"),U(!1),A(null),I(),F())}catch(r){console.error("Update notification error:",r);const s=((l=r==null?void 0:r.data)==null?void 0:l.message)||(r==null?void 0:r.message)||"Failed to update notification";d.error(s)}},Ne=async t=>{var l;if(window.confirm("Are you sure you want to delete this notification?"))try{(await de(t).unwrap()).status&&(d.success("Notification deleted successfully"),F())}catch(r){console.error("Delete notification error:",r);const s=((l=r==null?void 0:r.data)==null?void 0:l.message)||(r==null?void 0:r.message)||"Failed to delete notification";d.error(s)}},ve=async t=>{var l;if(window.confirm("Are you sure you want to send this notification?"))try{const r=await ue(t).unwrap();r.status&&(d.success(`Notification sent successfully to ${r.data.sentCount} devices`),F())}catch(r){console.error("Send notification error:",r);const s=((l=r==null?void 0:r.data)==null?void 0:l.message)||(r==null?void 0:r.message)||"Failed to send notification";d.error(s)}},ke=t=>{if(!t)return"";const l=new Date(t),r=l.getFullYear(),s=String(l.getMonth()+1).padStart(2,"0"),h=String(l.getDate()).padStart(2,"0"),C=String(l.getHours()).padStart(2,"0"),D=String(l.getMinutes()).padStart(2,"0");return`${r}-${s}-${h}T${C}:${D}`},G=t=>t?new Date(t).toISOString():null,we=t=>{A(t),S({title:t.title,message:t.message,type:t.type,priority:t.priority,targetAudience:t.targetAudience,targetUsers:t.targetUsers||[],targetSegment:t.targetSegment,imageUrl:t.imageUrl||"",scheduledAt:ke(t.scheduledAt),metadata:t.metadata||{}}),t.imageUrl?(N(t.imageUrl),x(null)):(N(null),x(null)),U(!0)},I=()=>{S({title:"",message:"",type:"general",priority:"normal",targetAudience:"all",targetUsers:[],targetSegment:"all_users",imageUrl:"",scheduledAt:"",metadata:{}}),x(null),N(null)},Se=t=>{const l={draft:{color:"bg-gray-100 text-gray-800",label:"Draft"},scheduled:{color:"bg-blue-100 text-blue-800",label:"Scheduled"},sent:{color:"bg-green-100 text-green-800",label:"Sent"},failed:{color:"bg-red-100 text-red-800",label:"Failed"},cancelled:{color:"bg-yellow-100 text-yellow-800",label:"Cancelled"}},r=l[t]||l.draft;return e("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${r.color}`,children:r.label})},Ce=t=>{const l={low:{color:"bg-gray-100 text-gray-800",label:"Low"},normal:{color:"bg-blue-100 text-blue-800",label:"Normal"},high:{color:"bg-orange-100 text-orange-800",label:"High"},urgent:{color:"bg-red-100 text-red-800",label:"Urgent"}},r=l[t]||l.normal;return e("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${r.color}`,children:r.label})},Ue=[{id:"list",label:"All Notifications",icon:"ph:list"},{id:"stats",label:"Statistics",icon:"ph:chart-bar"}];return ie?e("div",{className:"flex justify-center items-center h-64",children:e(Le,{})}):a("div",{className:"space-y-6",children:[a("div",{className:"flex justify-between items-center",children:[a("div",{children:[e("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Push Notifications"}),e("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage and send push notifications to users"})]}),a(b,{onClick:()=>{console.log("Create Notification button clicked"),u(!0)},className:"btn btn-primary",children:[e(f,{icon:"ph:plus",className:"mr-2"}),"Create Notification"]})]}),e("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:Ue.map(t=>a("button",{onClick:()=>i(t.id),className:`flex items-center px-4 py-2 text-sm font-medium rounded-md transition-colors ${c===t.id?"bg-white text-blue-700 dark:bg-gray-700 dark:text-blue-400 shadow-sm":"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"}`,children:[e(f,{icon:t.icon,className:"mr-2"}),t.label]},t.id))}),c==="stats"&&a("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e(k,{children:e("div",{className:"p-6",children:a("div",{className:"flex items-center",children:[e("div",{className:"p-2 bg-blue-100 rounded-lg",children:e(f,{icon:"ph:bell",className:"text-2xl text-blue-600"})}),a("div",{className:"ml-4",children:[e("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Notifications"}),e("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:((z=(H=m==null?void 0:m.data)==null?void 0:H.overview)==null?void 0:z.totalNotifications)||0})]})]})})}),e(k,{children:e("div",{className:"p-6",children:a("div",{className:"flex items-center",children:[e("div",{className:"p-2 bg-green-100 rounded-lg",children:e(f,{icon:"ph:check-circle",className:"text-2xl text-green-600"})}),a("div",{className:"ml-4",children:[e("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Sent"}),e("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:((Y=(W=m==null?void 0:m.data)==null?void 0:W.overview)==null?void 0:Y.sentNotifications)||0})]})]})})}),e(k,{children:e("div",{className:"p-6",children:a("div",{className:"flex items-center",children:[e("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e(f,{icon:"ph:clock",className:"text-2xl text-yellow-600"})}),a("div",{className:"ml-4",children:[e("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Scheduled"}),e("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:((K=(J=m==null?void 0:m.data)==null?void 0:J.overview)==null?void 0:K.scheduledNotifications)||0})]})]})})}),e(k,{children:e("div",{className:"p-6",children:a("div",{className:"flex items-center",children:[e("div",{className:"p-2 bg-gray-100 rounded-lg",children:e(f,{icon:"ph:file-text",className:"text-2xl text-gray-600"})}),a("div",{className:"ml-4",children:[e("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Draft"}),e("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:((X=(V=m==null?void 0:m.data)==null?void 0:V.overview)==null?void 0:X.draftNotifications)||0})]})]})})})]}),c==="list"&&a("div",{className:"space-y-6",children:[e(k,{children:e("div",{className:"p-6",children:a("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),a("select",{value:w.status,onChange:t=>L(l=>({...l,status:t.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e("option",{value:"",children:"All Status"}),e("option",{value:"draft",children:"Draft"}),e("option",{value:"scheduled",children:"Scheduled"}),e("option",{value:"sent",children:"Sent"}),e("option",{value:"failed",children:"Failed"}),e("option",{value:"cancelled",children:"Cancelled"})]})]}),a("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type"}),a("select",{value:w.type,onChange:t=>L(l=>({...l,type:t.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e("option",{value:"",children:"All Types"}),e("option",{value:"general",children:"General"}),e("option",{value:"promotional",children:"Promotional"}),e("option",{value:"order_update",children:"Order Update"}),e("option",{value:"system",children:"System"}),e("option",{value:"security",children:"Security"})]})]}),a("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority"}),a("select",{value:w.priority,onChange:t=>L(l=>({...l,priority:t.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e("option",{value:"",children:"All Priorities"}),e("option",{value:"low",children:"Low"}),e("option",{value:"normal",children:"Normal"}),e("option",{value:"high",children:"High"}),e("option",{value:"urgent",children:"Urgent"})]})]}),a("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search"}),e("input",{type:"text",value:w.search,onChange:t=>L(l=>({...l,search:t.target.value})),placeholder:"Search notifications...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]})})}),e(k,{children:e("div",{className:"p-6",children:e("div",{className:"space-y-4",children:(ee=(Z=q==null?void 0:q.data)==null?void 0:Z.notifications)==null?void 0:ee.map(t=>e("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:a("div",{className:"flex items-start justify-between",children:[a("div",{className:"flex-1",children:[a("div",{className:"flex items-center space-x-3 mb-2",children:[e("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:t.title}),Se(t.status),Ce(t.priority)]}),e("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:t.message}),a("div",{className:"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400",children:[a("span",{children:["Type: ",t.type]}),a("span",{children:["Target: ",t.targetAudience]}),a("span",{children:["Created: ",new Date(t.createdAt).toLocaleDateString()]}),t.sentAt&&a("span",{children:["Sent: ",new Date(t.sentAt).toLocaleDateString()]})]}),t.sentCount>0&&a("div",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:["Sent to ",t.sentCount," devices",t.deliveredCount>0&&a("span",{children:[" \u2022 Delivered: ",t.deliveredCount]}),t.clickedCount>0&&a("span",{children:[" \u2022 Clicks: ",t.clickedCount]})]})]}),a("div",{className:"flex items-center space-x-2",children:[t.status==="draft"&&a(Fe,{children:[a(b,{onClick:()=>we(t),className:"btn btn-sm btn-outline",children:[e(f,{icon:"ph:pencil",className:"mr-1"}),"Edit"]}),a(b,{onClick:()=>ve(t._id),disabled:ge,className:"btn btn-sm btn-primary",children:[e(f,{icon:"ph:paper-plane",className:"mr-1"}),"Send"]})]}),a(b,{onClick:()=>Ne(t._id),disabled:ce,className:"btn btn-sm btn-outline-danger",children:[e(f,{icon:"ph:trash",className:"mr-1"}),"Delete"]})]})]})},t._id))})})})]}),(g||ae)&&e("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[a("div",{className:"flex justify-between items-center mb-6",children:[e("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:g?"Create Notification":"Edit Notification"}),e(b,{onClick:()=>{u(!1),U(!1),A(null),I()},className:"btn btn-outline",children:e(f,{icon:"ph:x"})})]}),a("form",{onSubmit:g?be:xe,children:[a("div",{className:"space-y-4",children:[a("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title *"}),e("input",{type:"text",name:"title",value:n.title,onChange:v,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",required:!0})]}),a("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type"}),a("select",{name:"type",value:n.type,onChange:v,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e("option",{value:"general",children:"General"}),e("option",{value:"promotional",children:"Promotional"}),e("option",{value:"order_update",children:"Order Update"}),e("option",{value:"system",children:"System"}),e("option",{value:"security",children:"Security"})]})]})]}),a("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Message *"}),e("textarea",{name:"message",value:n.message,onChange:v,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",required:!0})]}),a("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority"}),a("select",{name:"priority",value:n.priority,onChange:v,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e("option",{value:"low",children:"Low"}),e("option",{value:"normal",children:"Normal"}),e("option",{value:"high",children:"High"}),e("option",{value:"urgent",children:"Urgent"})]})]}),a("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Target Audience"}),a("select",{name:"targetAudience",value:n.targetAudience,onChange:v,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e("option",{value:"all",children:"All Users"}),e("option",{value:"specific_users",children:"Specific Users"}),e("option",{value:"user_segment",children:"User Segment"})]})]})]}),n.targetAudience==="specific_users"&&a("div",{className:"mt-4",children:[a("div",{className:"flex justify-between items-center mb-3",children:[a("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Select Users (",M.length," selected)"]}),a("div",{className:"space-x-2",children:[e("button",{type:"button",onClick:fe,className:"text-xs bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600",children:"Select All"}),e("button",{type:"button",onClick:ye,className:"text-xs bg-gray-500 text-white px-2 py-1 rounded hover:bg-gray-600",children:"Deselect All"})]})]}),e("div",{className:"mb-3",children:e("input",{type:"text",placeholder:"Search users...",value:P,onChange:t=>le(t.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})}),e("div",{className:"max-h-60 overflow-y-auto border border-gray-300 dark:border-gray-600 rounded-lg",children:O?e("div",{className:"p-4 text-center text-gray-500",children:"Loading users..."}):y?a("div",{className:"p-4 text-center text-red-500",children:["Error loading users: ",((te=y==null?void 0:y.data)==null?void 0:te.message)||(y==null?void 0:y.message)||"Unknown error"]}):(o==null?void 0:o.details)&&o.details.length>0?o.details.filter(t=>{var l,r;return((l=t.name)==null?void 0:l.toLowerCase().includes(P.toLowerCase()))||((r=t.email)==null?void 0:r.toLowerCase().includes(P.toLowerCase()))}).map(t=>a("div",{className:"flex items-center p-3 border-b border-gray-200 dark:border-gray-700 last:border-b-0",children:[e("input",{type:"checkbox",id:`user-${t._id}`,checked:M.includes(t._id),onChange:()=>pe(t._id),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a("div",{className:"flex-1",children:[e("div",{className:"font-medium text-gray-900 dark:text-white",children:t.name||"No Name"}),e("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.email})]})]},t._id)):e("div",{className:"p-4 text-center text-gray-500",children:o?"No users found":"Failed to load users"})})]}),a("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Scheduled At"}),e("input",{type:"datetime-local",name:"scheduledAt",value:n.scheduledAt,onChange:v,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),a("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notification Image"}),a("div",{className:"space-y-3",children:[e(Ie,{selectedFile:se,onChange:he,preview:!0,id:"notification-image-upload",children:e(b,{div:!0,icon:"ph:upload",text:$?"Uploading...":"Upload Image",iconClass:"text-xl",className:"bg-gray-100 dark:bg-gray-700 dark:text-gray-300 text-gray-600 btn-sm",disabled:$})}),_&&a("div",{className:"relative inline-block",children:[e("div",{className:"w-48 h-48 border-2 border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden",children:e("img",{src:_,alt:"Notification preview",className:"w-full h-full object-cover"})}),e("button",{type:"button",onClick:B,className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",title:"Remove image",children:e(f,{icon:"ph:x",className:"text-sm"})})]}),n.imageUrl&&!_&&a("div",{className:"mt-2",children:[e("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Current Image URL:"}),a("div",{className:"flex items-center space-x-2",children:[e("input",{type:"text",value:n.imageUrl,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-800 text-sm"}),e("button",{type:"button",onClick:B,className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-sm",children:"Remove"})]})]})]})]})]}),a("div",{className:"flex justify-end space-x-3 mt-6",children:[e(b,{type:"button",onClick:()=>{u(!1),U(!1),A(null),I()},className:"btn btn-outline",children:"Cancel"}),e(b,{type:"submit",disabled:g?E:R,className:"btn btn-primary",children:g?E?"Creating...":"Create":R?"Updating...":"Update"})]})]})]})})]})};export{Ye as default};
