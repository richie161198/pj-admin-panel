import{a4 as I,b as A,j as e,L as C,c as t,I as r,B as c}from"./index.93603967.js";import{g as P}from"./orderApi.c470ea6a.js";import{C as l}from"./Card.43e3b2ea.js";import{A as T}from"./Avatar.f8907562.js";import{B as v}from"./Badge.2391c60f.js";const o=d=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(d),G=()=>{var g,N,p,b,u,f;const{id:d}=I(),n=A(),{data:m,isLoading:k,error:x}=P({page:1,limit:1e3});if(k)return e("div",{className:"flex justify-center items-center h-64",children:e(C,{})});if(x)return t("div",{className:"text-center py-12",children:[e(r,{icon:"ph:warning-circle",className:"text-6xl text-red-500 mx-auto mb-4"}),e("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Error Loading Order"}),e("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:x.message}),t(c,{onClick:()=>n("/investment-orders"),className:"btn btn-primary",children:[e(r,{icon:"ph:arrow-left",className:"mr-2"}),"Back to Orders"]})]});const a=(((g=m==null?void 0:m.data)==null?void 0:g.orders)||[]).find(s=>s._id===d);if(!a)return t("div",{className:"text-center py-12",children:[e(r,{icon:"ph:shopping-cart",className:"text-6xl text-gray-400 mx-auto mb-4"}),e("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Order Not Found"}),e("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"The order you're looking for doesn't exist."}),t(c,{onClick:()=>n("/investment-orders"),className:"btn btn-primary",children:[e(r,{icon:"ph:arrow-left",className:"mr-2"}),"Back to Orders"]})]});const h=s=>{const i={pending:{color:"warning",text:"Pending"},processing:{color:"info",text:"Processing"},completed:{color:"success",text:"Completed"},failed:{color:"danger",text:"Failed"},cancelled:{color:"secondary",text:"Cancelled"},refunded:{color:"warning",text:"Refunded"}}[s]||{color:"secondary",text:s};return e(v,{className:`badge-${i.color}`,children:i.text})},y=s=>{const i={deposit:{color:"success",text:"Deposit"},withdrawal:{color:"warning",text:"Withdrawal"},gold_purchase:{color:"info",text:"Gold Purchase"},silver_purchase:{color:"secondary",text:"Silver Purchase"},gold_sale:{color:"danger",text:"Gold Sale"},silver_sale:{color:"secondary",text:"Silver Sale"}}[s]||{color:"secondary",text:s};return e(v,{className:`badge-${i.color}`,children:i.text})};return t("div",{className:"space-y-6",children:[t("div",{className:"flex justify-between items-center",children:[t("div",{children:[e("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Investment Order Details"}),t("p",{className:"text-gray-600 dark:text-gray-400",children:["Order ID: ",a.orderId]})]}),t("div",{className:"flex items-center gap-4",children:[h(a.status),y(a.orderType)]})]}),t("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[t("div",{className:"xl:col-span-2 space-y-6",children:[e(l,{title:"Transaction Details",bodyClass:"p-0",children:t("div",{className:"p-5 space-y-4",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Order ID"}),e("p",{className:"text-sm text-gray-900 dark:text-white",children:a.orderId||"N/A"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Transaction Type"}),e("div",{className:"flex items-center gap-2",children:y(a.orderType)})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Amount"}),e("p",{className:"text-sm text-gray-900 dark:text-white font-semibold",children:o(a.inramount||0)})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Currency"}),e("p",{className:"text-sm text-gray-900 dark:text-white",children:a.currency||"INR"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Asset"}),e("p",{className:"text-sm text-gray-900 dark:text-white",children:a.transactionType||"N/A"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Gold Price "}),e("p",{className:"text-sm text-gray-900 dark:text-white",children:a.goldCurrentPrice||"INR"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payment Method"}),e("p",{className:"text-sm text-gray-900 dark:text-white",children:a.Payment_method||"N/A"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),e("div",{className:"flex items-center gap-2",children:h(a.status)})]})]}),a.description&&t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),e("p",{className:"text-sm text-gray-900 dark:text-white",children:a.description})]}),a.notes&&t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes"}),e("p",{className:"text-sm text-gray-900 dark:text-white",children:a.notes})]})]})}),(a.type==="gold_purchase"||a.type==="silver_purchase"||a.type==="gold_sale"||a.type==="silver_sale")&&e(l,{title:"Investment Details",bodyClass:"p-0",children:e("div",{className:"p-5 space-y-4",children:t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Metal Type"}),e("p",{className:"text-sm text-gray-900 dark:text-white",children:(N=a.type)!=null&&N.includes("gold")?"Gold":"Silver"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Quantity"}),e("p",{className:"text-sm text-gray-900 dark:text-white",children:a.quantity||"N/A"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Price per Unit"}),e("p",{className:"text-sm text-gray-900 dark:text-white",children:a.pricePerUnit?o(a.pricePerUnit):"N/A"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Total Value"}),e("p",{className:"text-sm text-gray-900 dark:text-white font-semibold",children:o(a.amount||0)})]})]})})}),e(l,{title:"Payment Information",bodyClass:"p-0",children:e("div",{className:"p-5 space-y-4",children:t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payment Method"}),e("p",{className:"text-sm text-gray-900 dark:text-white",children:a.Payment_method||"N/A"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payment Status"}),e("p",{className:"text-sm text-gray-900 dark:text-white",children:a.status||"N/A"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Transaction ID"}),e("p",{className:"text-sm text-gray-900 dark:text-white",children:a.orderId||"N/A"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Type"}),e("p",{className:"text-sm text-gray-900 dark:text-white",children:a.orderType||"N/A"})]})]})})})]}),t("div",{className:"space-y-6",children:[e(l,{title:"Customer Information",bodyClass:"p-0",children:t("div",{className:"p-5 space-y-5",children:[t("div",{className:"flex items-center gap-3",children:[e(T,{src:"/placeholder-avatar.jpg",className:"h-12 w-12"}),t("div",{children:[e("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:((p=a.userId)==null?void 0:p.name)||"N/A"}),e("div",{className:"text-xs text-gray-500",children:((b=a.userId)==null?void 0:b.email)||"N/A"})]})]}),t("div",{className:"divide-y",children:[t("div",{className:"py-4 flex items-center gap-3",children:[e(r,{icon:"solar:inbox-line-duotone",className:"text-xl text-gray-500"}),e("span",{className:"text-sm",children:((u=a.userId)==null?void 0:u.email)||"N/A"})]}),t("div",{className:"py-4 flex items-center gap-3",children:[e(r,{icon:"solar:phone-linear",className:"text-xl text-gray-500"}),e("span",{className:"text-sm",children:((f=a.userId)==null?void 0:f.phone)||"N/A"})]})]})]})}),e(l,{title:"Order Information",children:t("div",{className:"space-y-3",children:[t("div",{className:"flex justify-between",children:[e("span",{className:"text-sm text-gray-600",children:"Order ID"}),e("span",{className:"text-sm font-medium",children:a.orderId})]}),t("div",{className:"flex justify-between",children:[e("span",{className:"text-sm text-gray-600",children:"Created"}),e("span",{className:"text-sm font-medium",children:a.createdAt?new Date(a.createdAt).toLocaleDateString():"N/A"})]}),t("div",{className:"flex justify-between",children:[e("span",{className:"text-sm text-gray-600",children:"Type"}),e("span",{className:"text-sm font-medium",children:a.orderType||"N/A"})]}),t("div",{className:"flex justify-between",children:[e("span",{className:"text-sm text-gray-600",children:"Status"}),e("span",{className:"text-sm font-medium",children:a.status||"N/A"})]})]})}),e(l,{title:"Actions",children:t("div",{className:"space-y-3",children:[t(c,{onClick:()=>n(`/invoice/investment/${d}`),className:"btn btn-primary w-full",children:[e(r,{icon:"ph:file-text",className:"mr-2"}),"View Invoice"]}),t(c,{onClick:()=>n("/investment-orders"),className:"btn btn-outline w-full",children:[e(r,{icon:"ph:arrow-left",className:"mr-2"}),"Back to Orders"]}),t(c,{onClick:()=>window.print(),className:"btn btn-outline w-full",children:[e(r,{icon:"ph:printer",className:"mr-2"}),"Print Order"]})]})})]})]})]})};export{G as default};
